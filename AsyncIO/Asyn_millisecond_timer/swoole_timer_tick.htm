<html>
<head>
<title>swoole_timer_tick</title>
<meta http-equiv=Content-Type content="text/html; charset=gbk">
<link rel="stylesheet" href="../../public/css/Word2Chm.css" type="text/css">
<link rel="stylesheet" href="../../public/css/default.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/noframe.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="../../public/styles/shThemeDefault.css" type="text/css"/>
<script type="text/javascript" src="../../public/scripts/shCore.js"></script>
<script type="text/javascript" src="../../public/scripts/shBrushPhp.js"></script>
<script type="text/javascript">
    SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.all();
    </script>
</head>
<body style='text-justify-trim: punctuation'>
    <div class="wiki_content">
        <article>
            <h1>swoole_timer_tick</h1>
            <hr>
            <p>设置一个间隔时钟定时器，与after定时器不同的是tick定时器会持续触发，直到调用swoole_timer_clear清除。与swoole_timer_add不同的是tick定时器可以存在多个相同间隔时间的定时器。</p>
            <pre class="brush: php;">int swoole_timer_tick(int $ms, mixed $callback, mixed $param = null);
</pre>
            <ul>
                <li>$ms 指定时间，单位为毫秒</li>
                <li>$callback_function时间到期后所执行的函数，必须是可以调用的。callback函数不接受任何参数</li>
                <li>$param 回调参数</li>
                <li>定时器仅在当前进程空间内有效</li>
            </ul>
            <blockquote>
                <ul>
                    <li>$ms 最大不得超过 86400000</li>
                    <li>tick定时器在1.7.14以上版本可用</li>
                    <li>tick定时器即将要取代swoole_timer_add</li>
                </ul>
            </blockquote>
            <h2>回调函数</h2>
            <p>定时器触发的回调函数接受2个参数。</p>
            <pre class="brush: php;">function onTimer(int $timer_id, mixed $params = null);</pre>
            <ul>
                <li>$timer_id 定时器的ID，可用于swoole_timer_clear清除此定时器</li>
                <li>$params 由swoole_timer_tick传入的用户参数</li>
            </ul>
            <h2>使用示例</h2>
            <pre class="brush: php;">swoole_timer_tick(1000, function(){
    echo "timeout\n";
});
</pre>
        </article>
        <hr>
    </div>
</body>
</html>
